<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code & Print Pack Studio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #4a5a6c 0%, #3a4a5c 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            border: 2px solid #40e0d0;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .qr-icon {
            width: 60px;
            height: 60px;
            background: #40e0d0;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .header p {
            font-size: 1.2rem;
            color: #a0b4c3;
            margin-bottom: 20px;
        }

        .format-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 1rem;
            color: #a0b4c3;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            max-width: 1800px;
            margin: 0 auto;
        }

        .controls-panel {
            background: rgba(58, 74, 92, 0.8);
            border: 2px solid #40e0d0;
            border-radius: 20px;
            padding: 30px;
            height: fit-content;
        }

        .preview-panel {
            background: rgba(58, 74, 92, 0.8);
            border: 2px solid #40e0d0;
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #40e0d0;
            text-align: center;
            border-bottom: 2px solid rgba(64, 224, 208, 0.3);
            padding-bottom: 10px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            color: #a0b4c3;
            font-weight: 500;
        }

        .control-group input,
        .control-group textarea,
        .control-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #5a6a7c;
            border-radius: 8px;
            background: #2c3e50;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .control-group input:focus,
        .control-group textarea:focus,
        .control-group select:focus {
            outline: none;
            border-color: #40e0d0;
        }

        .control-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        .qr-list {
            background: rgba(44, 62, 80, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }

        .qr-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: rgba(64, 224, 208, 0.1);
            margin-bottom: 8px;
            border-radius: 5px;
            border: 1px solid rgba(64, 224, 208, 0.3);
        }

        .qr-item:last-child {
            margin-bottom: 0;
        }

        .qr-item-info {
            flex: 1;
        }

        .qr-item-label {
            font-weight: 600;
            color: #40e0d0;
            font-size: 0.9rem;
        }

        .qr-item-url {
            font-size: 0.8rem;
            color: #a0b4c3;
            word-break: break-all;
        }

        .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.3s ease;
        }

        .remove-btn:hover {
            background: #c0392b;
        }

        .add-btn {
            width: 100%;
            padding: 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .add-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .color-picker {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: border-color 0.3s ease;
        }

        .color-option.active {
            border-color: #40e0d0;
        }

        .preview-canvas {
            border: 2px solid #40e0d0;
            border-radius: 10px;
            background: white;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .layout-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .layout-option {
            background: rgba(64, 224, 208, 0.1);
            border: 2px solid rgba(64, 224, 208, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #a0b4c3;
        }

        .layout-option.active {
            border-color: #40e0d0;
            background: rgba(64, 224, 208, 0.2);
            color: #40e0d0;
        }

        .layout-option:hover {
            transform: translateY(-2px);
        }

        .layout-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .layout-name {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .download-section {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .download-btn {
            flex: 1;
            padding: 15px;
            background: #40e0d0;
            color: #2c3e50;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            background: #36c5b6;
            transform: translateY(-2px);
        }

        .bulk-download {
            background: #e67e22;
            color: white;
        }

        .bulk-download:hover {
            background: #d35400;
        }

        .tag {
            background: rgba(64, 224, 208, 0.2);
            color: #40e0d0;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            border: 1px solid rgba(64, 224, 208, 0.3);
            display: inline-block;
            margin: 2px;
        }

        .qr-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-top: 20px;
        }

        .qr-preview-item {
            text-align: center;
            background: white;
            padding: 10px;
            border-radius: 8px;
        }

        .qr-code-display {
            width: 80px;
            height: 80px;
            margin: 0 auto 8px;
            background: #000;
            border-radius: 4px;
        }

        .qr-label-display {
            font-size: 0.7rem;
            color: #2c3e50;
            font-weight: 600;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .format-info {
                flex-direction: column;
                gap: 10px;
            }

            .download-section {
                flex-direction: column;
            }

            .layout-selector {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>
            <div class="qr-icon">‚¨õ</div>
            QR Code & Print Pack Studio
        </h1>
        <p>Generate branded QR codes and create print-ready layouts for marketing materials.</p>
        <div class="format-info">
            <span>üì± QR Code Generator</span>
            <span>üñ®Ô∏è Print-Ready Layouts</span>
            <span>üìÑ PDF & PNG Output</span>
        </div>
        <div style="margin-top: 20px;">
            <span class="tag">bulk generation</span>
            <span class="tag">print ready</span>
            <span class="tag">branded</span>
            <span class="tag">marketing</span>
        </div>
    </div>

    <div class="main-content">
        <!-- Controls Panel -->
        <div class="controls-panel">
            <h2 class="section-title">QR Code Generator</h2>
            
            <div class="control-group">
                <label>QR Code Label</label>
                <input type="text" id="qrLabel" placeholder="e.g., Property Listing, Schedule Tour">
            </div>

            <div class="control-group">
                <label>Destination URL</label>
                <input type="url" id="qrUrl" placeholder="https://example.com">
            </div>

            <div class="control-group">
                <label>QR Code Type</label>
                <select id="qrType">
                    <option value="listing">Property Listing</option>
                    <option value="calendar">Schedule Appointment</option>
                    <option value="review">Review Page</option>
                    <option value="contact">Contact Info</option>
                    <option value="website">Website</option>
                    <option value="custom">Custom URL</option>
                </select>
            </div>

            <button class="add-btn" onclick="addQRCode()">Add QR Code</button>

            <div class="qr-list" id="qrList">
                <!-- QR codes will be listed here -->
            </div>

            <h3 style="color: #40e0d0; margin: 30px 0 15px 0; font-size: 1.2rem;">Branding Options</h3>

            <div class="control-group">
                <label>Agent/Company Name</label>
                <input type="text" id="brandName" value="Your Name" oninput="updatePreview()">
            </div>

            <div class="control-group">
                <label>Phone Number</label>
                <input type="text" id="brandPhone" value="(555) 123-4567" oninput="updatePreview()">
            </div>

            <div class="control-group">
                <label>Website</label>
                <input type="text" id="brandWebsite" value="yourwebsite.com" oninput="updatePreview()">
            </div>

            <div class="control-group">
                <label>Brand Color</label>
                <div class="color-picker">
                    <div class="color-option active" style="background: #40e0d0" data-color="#40e0d0" onclick="changeBrandColor(this)"></div>
                    <div class="color-option" style="background: #3498db" data-color="#3498db" onclick="changeBrandColor(this)"></div>
                    <div class="color-option" style="background: #e74c3c" data-color="#e74c3c" onclick="changeBrandColor(this)"></div>
                    <div class="color-option" style="background: #2ecc71" data-color="#2ecc71" onclick="changeBrandColor(this)"></div>
                    <div class="color-option" style="background: #9b59b6" data-color="#9b59b6" onclick="changeBrandColor(this)"></div>
                    <div class="color-option" style="background: #f39c12" data-color="#f39c12" onclick="changeBrandColor(this)"></div>
                </div>
            </div>

            <h3 style="color: #40e0d0; margin: 30px 0 15px 0; font-size: 1.2rem;">Print Layout</h3>

            <div class="control-group">
                <label>Layout Style</label>
                <div class="layout-selector">
                    <div class="layout-option active" data-layout="grid" onclick="changeLayout(this)">
                        <div class="layout-icon">‚öè</div>
                        <div class="layout-name">Grid</div>
                    </div>
                    <div class="layout-option" data-layout="flyer" onclick="changeLayout(this)">
                        <div class="layout-icon">üìÑ</div>
                        <div class="layout-name">Flyer</div>
                    </div>
                    <div class="layout-option" data-layout="sticker" onclick="changeLayout(this)">
                        <div class="layout-icon">üè∑Ô∏è</div>
                        <div class="layout-name">Stickers</div>
                    </div>
                    <div class="layout-option" data-layout="rider" onclick="changeLayout(this)">
                        <div class="layout-icon">üìã</div>
                        <div class="layout-name">Rider</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <h2 class="section-title">Preview & Download</h2>
            
            <canvas id="previewCanvas" class="preview-canvas" width="800" height="1000"></canvas>

            <div class="qr-preview-grid" id="qrPreviewGrid">
                <!-- Individual QR code previews will appear here -->
            </div>

            <div class="download-section">
                <button class="download-btn" onclick="downloadIndividualQRs()">Download Individual QRs</button>
                <button class="download-btn bulk-download" onclick="downloadPrintLayout()">Download Print Layout</button>
            </div>
        </div>
    </div>

    <script>
        let qrCodes = [];
        let currentLayout = 'grid';
        let brandColor = '#40e0d0';

        // Initialize
        window.onload = function() {
            // Add sample QR codes
            qrCodes = [
                { label: 'Property Listing', url: 'https://example.com/listing/123', type: 'listing' },
                { label: 'Schedule Tour', url: 'https://calendly.com/youragent', type: 'calendar' }
            ];
            updateQRList();
            updatePreview();
        };

        function addQRCode() {
            const label = document.getElementById('qrLabel').value;
            const url = document.getElementById('qrUrl').value;
            const type = document.getElementById('qrType').value;

            if (!label || !url) {
                alert('Please enter both label and URL');
                return;
            }

            qrCodes.push({ label, url, type });
            
            // Clear inputs
            document.getElementById('qrLabel').value = '';
            document.getElementById('qrUrl').value = '';

            updateQRList();
            updatePreview();
        }

        function removeQRCode(index) {
            qrCodes.splice(index, 1);
            updateQRList();
            updatePreview();
        }

        function updateQRList() {
            const list = document.getElementById('qrList');
            list.innerHTML = '';

            if (qrCodes.length === 0) {
                list.innerHTML = '<p style="color: #a0b4c3; text-align: center; padding: 20px;">No QR codes added yet</p>';
                return;
            }

            qrCodes.forEach((qr, index) => {
                const item = document.createElement('div');
                item.className = 'qr-item';
                item.innerHTML = `
                    <div class="qr-item-info">
                        <div class="qr-item-label">${qr.label}</div>
                        <div class="qr-item-url">${qr.url}</div>
                    </div>
                    <button class="remove-btn" onclick="removeQRCode(${index})">Remove</button>
                `;
                list.appendChild(item);
            });
        }

        function changeBrandColor(element) {
            element.parentNode.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('active');
            });
            element.classList.add('active');
            brandColor = element.dataset.color;
            updatePreview();
        }

        function changeLayout(element) {
            element.parentNode.querySelectorAll('.layout-option').forEach(option => {
                option.classList.remove('active');
            });
            element.classList.add('active');
            currentLayout = element.dataset.layout;
            updatePreview();
        }

        function updatePreview() {
            const canvas = document.getElementById('previewCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Clear canvas
            ctx.clearRect(0, 0, width, height);

            // White background
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);

            // Get brand info
            const brandName = document.getElementById('brandName').value;
            const brandPhone = document.getElementById('brandPhone').value;
            const brandWebsite = document.getElementById('brandWebsite').value;

            if (currentLayout === 'grid') {
                drawGridLayout(ctx, width, height, brandName, brandPhone, brandWebsite);
            } else if (currentLayout === 'flyer') {
                drawFlyerLayout(ctx, width, height, brandName, brandPhone, brandWebsite);
            } else if (currentLayout === 'sticker') {
                drawStickerLayout(ctx, width, height, brandName, brandPhone, brandWebsite);
            } else if (currentLayout === 'rider') {
                drawRiderLayout(ctx, width, height, brandName, brandPhone, brandWebsite);
            }

            updateQRPreviewGrid();
        }

        function drawGridLayout(ctx, width, height, brandName, brandPhone, brandWebsite) {
            // Header
            ctx.fillStyle = brandColor;
            ctx.fillRect(0, 0, width, 120);

            ctx.fillStyle = 'white';
            ctx.font = 'bold 32px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(brandName, width / 2, 50);
            ctx.font = '20px Arial';
            ctx.fillText(`${brandPhone} ‚Ä¢ ${brandWebsite}`, width / 2, 70);

            // Main content area with QR codes in rider format
            const qrSize = 150;
            const startY = 150;
            const leftColumn = 100;
            const rightColumn = width - 250;

            qrCodes.forEach((qr, index) => {
                const isLeft = index % 2 === 0;
                const x = isLeft ? leftColumn : rightColumn;
                const y = startY + Math.floor(index / 2) * 200;

                // QR Code container
                ctx.fillStyle = '#f8f9fa';
                ctx.fillRect(x - 20, y - 20, qrSize + 40, qrSize + 80);
                
                // Border
                ctx.strokeStyle = brandColor;
                ctx.lineWidth = 3;
                ctx.strokeRect(x - 20, y - 20, qrSize + 40, qrSize + 80);

                // QR Code
                ctx.fillStyle = '#000';
                ctx.fillRect(x, y, qrSize, qrSize);

                // QR pattern
                ctx.fillStyle = 'white';
                for (let i = 0; i < 10; i++) {
                    for (let j = 0; j < 10; j++) {
                        if (Math.random() > 0.5) {
                            ctx.fillRect(x + i * 15, y + j * 15, 15, 15);
                        }
                    }
                }

                // Label
                ctx.fillStyle = brandColor;
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(qr.label, x + qrSize / 2, y + qrSize + 15);

                // URL (small)
                ctx.font = '10px Arial';
                ctx.fillStyle = '#666';
                const shortUrl = qr.url.replace('https://', '').substring(0, 20) + '...';
                ctx.fillText(shortUrl, x + qrSize / 2, y + qrSize + 35);
            });
        }

        function updateQRPreviewGrid() {
            const grid = document.getElementById('qrPreviewGrid');
            grid.innerHTML = '';

            qrCodes.forEach((qr, index) => {
                const item = document.createElement('div');
                item.className = 'qr-preview-item';
                
                const qrDisplay = document.createElement('div');
                qrDisplay.className = 'qr-code-display';
                
                // Create mini QR pattern
                const canvas = document.createElement('canvas');
                canvas.width = 80;
                canvas.height = 80;
                const ctx = canvas.getContext('2d');
                
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, 80, 80);
                
                ctx.fillStyle = 'white';
                for (let i = 0; i < 8; i++) {
                    for (let j = 0; j < 8; j++) {
                        if (Math.random() > 0.5) {
                            ctx.fillRect(i * 10, j * 10, 10, 10);
                        }
                    }
                }
                
                qrDisplay.style.background = `url(${canvas.toDataURL()})`;
                qrDisplay.style.backgroundSize = 'cover';

                const label = document.createElement('div');
                label.className = 'qr-label-display';
                label.textContent = qr.label;

                item.appendChild(qrDisplay);
                item.appendChild(label);
                grid.appendChild(item);
            });
        }

        function generateQRCodeSVG(text, size = 200) {
            // Simple QR code SVG generator (placeholder)
            // In a real implementation, you'd use a proper QR code library
            const svg = `
                <svg width="${size}" height="${size}" xmlns="http://www.w3.org/2000/svg">
                    <rect width="${size}" height="${size}" fill="white"/>
                    <g fill="black">
                        ${Array.from({length: 20}, (_, i) => 
                            Array.from({length: 20}, (_, j) => 
                                Math.random() > 0.5 ? `<rect x="${j*10}" y="${i*10}" width="10" height="10"/>` : ''
                            ).join('')
                        ).join('')}
                    </g>
                </svg>
            `;
            return svg;
        }

        function downloadIndividualQRs() {
            if (qrCodes.length === 0) {
                alert('Please add some QR codes first');
                return;
            }

            qrCodes.forEach((qr, index) => {
                // Create individual QR code canvas
                const canvas = document.createElement('canvas');
                canvas.width = 400;
                canvas.height = 500;
                const ctx = canvas.getContext('2d');

                // White background
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, 400, 500);

                // Brand header
                ctx.fillStyle = brandColor;
                ctx.fillRect(0, 0, 400, 80);

                ctx.fillStyle = 'white';
                ctx.font = 'bold 20px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(document.getElementById('brandName').value, 200, 35);
                ctx.font = '14px Arial';
                ctx.fillText(`${document.getElementById('brandPhone').value} ‚Ä¢ ${document.getElementById('brandWebsite').value}`, 200, 60);

                // QR Code
                const qrSize = 250;
                const qrX = (400 - qrSize) / 2;
                const qrY = 110;

                ctx.fillStyle = '#000';
                ctx.fillRect(qrX, qrY, qrSize, qrSize);

                // QR pattern
                ctx.fillStyle = 'white';
                for (let i = 0; i < 17; i++) {
                    for (let j = 0; j < 17; j++) {
                        if (Math.random() > 0.5) {
                            ctx.fillRect(qrX + i * 15, qrY + j * 15, 15, 15);
                        }
                    }
                }

                // Label
                ctx.fillStyle = brandColor;
                ctx.font = 'bold 24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(qr.label, 200, qrY + qrSize + 40);

                // URL
                ctx.fillStyle = '#666';
                ctx.font = '16px Arial';
                const displayUrl = qr.url.length > 35 ? qr.url.substring(0, 35) + '...' : qr.url;
                ctx.fillText(displayUrl, 200, qrY + qrSize + 70);

                // Download
                const link = document.createElement('a');
                link.download = `qr-${qr.label.replace(/\s+/g, '-').toLowerCase()}-${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        function downloadPrintLayout() {
            const canvas = document.getElementById('previewCanvas');
            
            // Create high-resolution version
            const printCanvas = document.createElement('canvas');
            printCanvas.width = 2550; // 8.5" at 300 DPI
            printCanvas.height = 3300; // 11" at 300 DPI
            const printCtx = printCanvas.getContext('2d');
            
            // Scale the current canvas to print resolution
            printCtx.scale(3.1875, 3.3); // Scale factors for high-res
            printCtx.drawImage(canvas, 0, 0);
            
            // Download as PNG
            const link = document.createElement('a');
            link.download = `qr-print-layout-${currentLayout}-${Date.now()}.png`;
            link.href = printCanvas.toDataURL('image/png');
            link.click();

            // Also create PDF version (simplified)
            setTimeout(() => {
                // For PDF, we'll use the same high-res image
                // In a real implementation, you'd use a PDF library like jsPDF
                const pdfLink = document.createElement('a');
                pdfLink.download = `qr-print-layout-${currentLayout}-${Date.now()}.pdf`;
                pdfLink.href = printCanvas.toDataURL('image/png');
                pdfLink.click();
            }, 500);
        }

        // Auto-update preview when brand info changes
        document.getElementById('brandName').addEventListener('input', updatePreview);
        document.getElementById('brandPhone').addEventListener('input', updatePreview);
        document.getElementById('brandWebsite').addEventListener('input', updatePreview);

        // Sample QR type URLs
        const sampleUrls = {
            listing: 'https://example.com/listing/123',
            calendar: 'https://calendly.com/youragent',
            review: 'https://google.com/reviews/yourbusiness',
            contact: 'https://example.com/contact',
            website: 'https://yourwebsite.com',
            custom: 'https://example.com'
        };

        // Update URL placeholder based on type
        document.getElementById('qrType').addEventListener('change', function() {
            const urlInput = document.getElementById('qrUrl');
            urlInput.placeholder = sampleUrls[this.value];
            if (!urlInput.value) {
                urlInput.value = sampleUrls[this.value];
            }
        });
    </script>
</body>
</html>brandPhone} ‚Ä¢ ${brandWebsite}`, width / 2, 85);

            // QR Grid
            const cols = 3;
            const rows = Math.ceil(qrCodes.length / cols);
            const qrSize = 150;
            const spacing = 50;
            const startX = (width - (cols * qrSize + (cols - 1) * spacing)) / 2;
            const startY = 160;

            qrCodes.forEach((qr, index) => {
                const col = index % cols;
                const row = Math.floor(index / cols);
                const x = startX + col * (qrSize + spacing);
                const y = startY + row * (qrSize + spacing + 60);

                // QR Code placeholder
                ctx.fillStyle = '#000';
                ctx.fillRect(x, y, qrSize, qrSize);

                // White squares for QR pattern
                ctx.fillStyle = 'white';
                for (let i = 0; i < 10; i++) {
                    for (let j = 0; j < 10; j++) {
                        if (Math.random() > 0.5) {
                            ctx.fillRect(x + i * 15, y + j * 15, 15, 15);
                        }
                    }
                }

                // Label
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(qr.label, x + qrSize / 2, y + qrSize + 25);

                // URL (truncated)
                ctx.font = '12px Arial';
                ctx.fillStyle = '#666';
                const truncatedUrl = qr.url.length > 30 ? qr.url.substring(0, 30) + '...' : qr.url;
                ctx.fillText(truncatedUrl, x + qrSize / 2, y + qrSize + 45);
            });
        }

        function drawFlyerLayout(ctx, width, height, brandName, brandPhone, brandWebsite) {
            // Background
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, width, height);

            // Header
            ctx.fillStyle = brandColor;
            ctx.fillRect(0, 0, width, 150);

            ctx.fillStyle = 'white';
            ctx.font = 'bold 36px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Scan for More Info', width / 2, 60);
            ctx.font = 'bold 24px Arial';
            ctx.fillText(brandName, width / 2, 100);
            ctx.font = '18px Arial';
            ctx.fillText(`${brandPhone} ‚Ä¢ ${brandWebsite}`, width / 2, 130);

            // Main QR Code (if available)
            if (qrCodes.length > 0) {
                const mainQR = qrCodes[0];
                const qrSize = 300;
                const x = (width - qrSize) / 2;
                const y = 200;

                // QR Code
                ctx.fillStyle = '#000';
                ctx.fillRect(x, y, qrSize, qrSize);

                // QR pattern
                ctx.fillStyle = 'white';
                for (let i = 0; i < 20; i++) {
                    for (let j = 0; j < 20; j++) {
                        if (Math.random() > 0.5) {
                            ctx.fillRect(x + i * 15, y + j * 15, 15, 15);
                        }
                    }
                }

                // Label
                ctx.fillStyle = brandColor;
                ctx.font = 'bold 28px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(mainQR.label, width / 2, y + qrSize + 50);
            }

            // Additional QR codes at bottom
            if (qrCodes.length > 1) {
                const bottomY = height - 250;
                const smallQRSize = 100;
                const spacing = 50;
                const totalWidth = (qrCodes.length - 1) * smallQRSize + (qrCodes.length - 2) * spacing;
                const startX = (width - totalWidth) / 2;

                qrCodes.slice(1).forEach((qr, index) => {
                    const x = startX + index * (smallQRSize + spacing);

                    // Small QR Code
                    ctx.fillStyle = '#000';
                    ctx.fillRect(x, bottomY, smallQRSize, smallQRSize);

                    // QR pattern
                    ctx.fillStyle = 'white';
                    for (let i = 0; i < 7; i++) {
                        for (let j = 0; j < 7; j++) {
                            if (Math.random() > 0.5) {
                                ctx.fillRect(x + i * 14, bottomY + j * 14, 14, 14);
                            }
                        }
                    }

                    // Label
                    ctx.fillStyle = '#2c3e50';
                    ctx.font = 'bold 14px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(qr.label, x + smallQRSize / 2, bottomY + smallQRSize + 20);
                });
            }
        }

        function drawStickerLayout(ctx, width, height, brandName, brandPhone, brandWebsite) {
            // White background
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);

            // Create sticker grid (3x4)
            const stickerWidth = 200;
            const stickerHeight = 200;
            const cols = 3;
            const rows = 4;
            const spacingX = (width - cols * stickerWidth) / (cols + 1);
            const spacingY = (height - rows * stickerHeight) / (rows + 1);

            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const x = spacingX + col * (stickerWidth + spacingX);
                    const y = spacingY + row * (stickerHeight + spacingY);

                    // Sticker background
                    ctx.fillStyle = '#f8f9fa';
                    ctx.fillRect(x, y, stickerWidth, stickerHeight);

                    // Border
                    ctx.strokeStyle = '#dee2e6';
                    ctx.lineWidth = 2;
                    ctx.strokeRect(x, y, stickerWidth, stickerHeight);

                    // QR Code (use first QR or repeat)
                    const qrIndex = (row * cols + col) % Math.max(qrCodes.length, 1);
                    const qr = qrCodes[qrIndex] || { label: 'Sample QR', url: 'https://example.com' };

                    const qrSize = 120;
                    const qrX = x + (stickerWidth - qrSize) / 2;
                    const qrY = y + 20;

                    // QR Code
                    ctx.fillStyle = '#000';
                    ctx.fillRect(qrX, qrY, qrSize, qrSize);

                    // QR pattern
                    ctx.fillStyle = 'white';
                    for (let i = 0; i < 8; i++) {
                        for (let j = 0; j < 8; j++) {
                            if (Math.random() > 0.5) {
                                ctx.fillRect(qrX + i * 15, qrY + j * 15, 15, 15);
                            }
                        }
                    }

                    // Brand name
                    ctx.fillStyle = brandColor;
                    ctx.font = 'bold 16px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(brandName, x + stickerWidth / 2, qrY + qrSize + 25);

                    // QR Label
                    ctx.fillStyle = '#2c3e50';
                    ctx.font = '12px Arial';
                    ctx.fillText(qr.label, x + stickerWidth / 2, qrY + qrSize + 45);
                }
            }
        }

        function drawRiderLayout(ctx, width, height, brandName, brandPhone, brandWebsite) {
            // White background
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);

            // Header section
            ctx.fillStyle = brandColor;
            ctx.fillRect(0, 0, width, 100);

            ctx.fillStyle = 'white';
            ctx.font = 'bold 28px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(brandName, width / 2, 40);
            ctx.font = '16px Arial';
            ctx.fillText(`${